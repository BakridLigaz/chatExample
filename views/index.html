<!DOCTYPE html>
<html lang="en" ng-app="App">
<head>
    <meta charset="UTF-8">
    <title>Index</title>
    <link href="../bootstrap/dist/css/bootstrap.css" rel="stylesheet">
    <link href="../bootstrap/dist/css/bootstrap-theme.css" rel="stylesheet">
    <script src="../jquery/dist/jquery.min.js"></script>
    <script src="../socket.io-client/socket.io.js"></script>
    <script src="../angular/angular.min.js"></script>
    <script src="../javascripts/ctrl.js"></script>
    <script src="../javascripts/app.js"></script>

</head>
<body ng-controller="MainCtrl">
<div class="container row">
    <div class="col-md-6 row">
    <h2 class="col-md-12" >{{currentUser.username}}  <button class="btn btn-primary">Logout</button> </h2>
    <div class="col-md-12">
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Username</th>
            <th>Status</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="user in userList">
            <td>{{user.username}}</td>
            <td>{{user.status}}</td>
            <td><input type="text" class="form-control" ng-model="message"> </td>
            <td><button class="btn btn-primary" ng-click="send(user.id,message)">send</button></td>
        </tr>
        </tbody>
        </table>
    </div>
        <div class="col-md-12">
            <h3>Dialogs</h3>
            <ul>
                <li>Dialog 1
                    <ul>
                        <li>mes 1</li>
                        <li>nes 2</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <div class="col-md-6">
        <h3>Login</h3>
        <form class="form-horizontal well">
            <div class="form-group">
                <label class="control-label col-sm-2" for="username">Name:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="username" placeholder="Enter username" ng-model="logUser.username">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="pwd">Password:</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="pwd" placeholder="Enter password" ng-model="logUser.password">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default" ng-click="login(logUser)">Submit</button>
                </div>
            </div>
        </form>
        <h3>Register</h3>
        <form class="form-horizontal well">
            <div class="form-group">
                <label class="control-label col-sm-2" >Name:</label>
                <div class="col-sm-10">
                    <input type="text" class="form-control" id="user" placeholder="Enter name" ng-model="newUser.username">
                </div>
            </div>
            <div class="form-group">
                <label class="control-label col-sm-2" for="pwd">Password:</label>
                <div class="col-sm-10">
                    <input type="password" class="form-control" id="pass_reg" placeholder="Enter password" ng-model="newUser.password">
                </div>
            </div>
            <div class="form-group">
                <div class="col-sm-offset-2 col-sm-10">
                    <button type="submit" class="btn btn-default" ng-click="register(newUser)">Submit</button>
                </div>
            </div>
        </form>
    </div>
</div>
</body>
</html>